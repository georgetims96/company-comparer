# Company Comparer
Created by George Tims

## Inspiration
In the "stonks" era, too often people forget that there is a company behind the share price. This is in large part due to the lack of free and accessible ways for the average retail investor to assess business quality. Popular sites like Yahoo Finance  put market indicators like price and share volume front and center, which are more often than not a function of current sentiment rather than true company strength. Compounding the issue is the poor presentation of financial data like revenue and operating income, which are displayed in absolute terms and can be difficult to contextualize and derive meaningful insight. My goal with this project is to present this fundamental financial data in way that is easier for retail investors to digest.

## What it Does
Company Comparer allows users to easily compare public companies' fundamental business performance over time. By norming each company's data based on revenue, you can easily see how much of each dollar generated is left (operating income/EBIT) after accounting for unit costs such as direct labor, raw materials, and/or cloud hosting (COGS), and operating expenses such as general and administrative costs and sales and marketing expenses. Importantly, you can compare this data to a company's peers and even companies in completely different sectors. 

By taking this approach, it is much easier to understand where a given company has an operational or strategic advantage over another. For example, Netflix and Spotify are ostensibly very similar business. They are both consumer subscription models that charge roughly similar prices for access to entertainment content. Once you plug these companies into the app, however, it becomes clear that Netflix is able to keep a much larger share of the revenue it generates than Spotify is. Looking at the different cost items for the most recent year, the big discrepancy emerges in the two's unit costs (COGS). The user can highlight this line to see how it has trended over time. They will discover that Spotify's gross margin has levelled off, while Netflix's has steadily improved. A user now knows where to focus further research. In this case, Netflix mostly owns the content it produces in perpetuity, whereas Spotify needs to pay large royalties to a few record labels who exert considerable leverage over the company. 

Importantly, this line of questioning was immediately stimulated in a way it wouldn't be if I were to have the two companies' respective Yahoo Finance pages up side-by-side. Each line item would be presented absolutely (i.e. their size in millions/billions) and I'd need to perform any norming myself. There is also a lack of dynamic data visualization that enables quick determination of interesting trends in operating performance. In the context of all this, it's no surprise many people rarely go past the summary page, which is dominated by noisey market data like the company's trading volume, 52 week range, and 1 year target price.

## How I'm building it
The back end is powered by Flask. I'm currently only using a very small local sqlite database solely to power company search functionality. All other API requests pull from the SEC's EDGAR API, converting it on a per-request basis into a format that more easily fulfils the app's needs. In the medium term I'm planning on caching requests using something like memcached or redis. Once the final featureset of the app is clearer, I'm going to do a daily batch convert of the SEC's data and use something like Mongo to fulfil API requests fully locally. 

The front end is powered by React. I'm using material ui for basic components and the general aesthetic/layout. I'm also heavily utilizing the React version of Chart.js react-chartjs-2 to create insightful data visualizations. 

## Challenges/Bugs I've run into
- Non-standardized terminology for some fields (i.e. SalesMarketingExpense and MarketingAdvertising expense both referring to Sales & Marketing) across different 10-K filers. Even more frustratingly, sometimes the same filer would change how they referred to the same piece of data over time. While I've built functionality that can account for many of these differences and changes over time, it is likely that there will be edge cases that are not picked up.
- Different accounting standards and currencies. US filers use GAAP; international filers tend to use IFRS. In general the accounting standards line up, but there are areas where material differences can make direct comparisons more difficult. Currencies are not an issue for the margin analysis but can be trickier when it comes to revenue growth metrics. I'm still debating the best way to tackle this.
- Sometimes a component will not re-render properly when changing the companies being compared. All fields of the new company will default to "N/A" until you change the year of comparison.

## Future Features
- Links to the 10-Ks from which the highlighted data is being pulled. Ideally this would present the relevant section of the 10-K in a modal box within the app. It's unclear whether the SEC's data is sufficiently structured to facilitate such a seamless feature. In the case that it isn't, I'd at least like to link to the relevant section in the 10-K given the highlighted field.
- Inline accounting standards. Sometimes discrepancies in line items can be the result of the same expenses being accounted for in different ways by different companies. While this data is not as easily accessible as the financials, a bit of perusing the directories in which each 10-K filing is stored reveals a "Metalinks.json" file and several standalone exhibits from the reports as separate html files. Often, these exhibits will include a "Summary of Accounting Policies" document that could quickly indicate where different approaches to accounting are the causes of discrepancies.
- Non-GAAP metrics. Many believe GAAP metrics can paint a misleading picture of technology companies. While it is true that GAAP principles were established in an era where manufacturing and industrial businesses occupied a more central role in the economy than they do today, non-GAAP metrics tend to be highly ideosyncratic and thus less easily comparable. They are certainly much harder to pull from SEC filings as the EDGAR API only seems to provide GAAP financials. Nevertheless, there may be some creative ways to pull these from alternative sources like Statista. 